<template>
  <aurelia-form
    behavior.bind="behavior"
    entity.bind="entity"
    classes.bind="classes"
    validated.bind="validated"
    buttonOptions.bind="buttonOptions"
    buttonLabel.bind="buttonLabel"
    buttonEnabled.bind="buttonEnabled"
  >
    <slot name="before"></slot>

    <form-group
      repeat.for="element of elements"
      show.bind="isVisible(element.field) && !element.meta.noRender"
      label.bind="element.meta.label || element.field"
      element.bind="element.meta.element || element.element"
      name.bind="element.field"
      placeholder.bind="element.meta.placeholder || ''"
      autofocus.bind="element.meta.autofocus || false"
      disabled.bind="element.meta.disabled || false"
      readonly.bind="element.meta.readonly || false"
      required.bind="element.meta.required || false"
      type.bind="element.meta.type || 'text'"
      value.bind="entity[element.field]"
    ></form-group>

    <slot name="after"></slot>
  </aurelia-form>
</template>
